/** @format */

const wordEl = document.getElementById('word');
const wrongLettersEl = document.getElementById('wrong-letters');
const playAgainBtn = document.getElementById('play-button');
const popup = document.getElementById('popup__container');
const notification = document.getElementById('notification__container');
const finalMessage = document.getElementById('final-message');
const figureParts = document.querySelectorAll('.figure-part');

// async function fetchwords() {
// 	let response = await fetch(
// 		'https://random-word-api.herokuapp.com/word?number=1',
// 	);
// 	let data = await response.json();
// 	return data;
// }
const words = [
	'odontoblastic',
	'supination',
	'isoenzymes',
	'pampas',
	'errhine',
	'upsizing',
	'kitchens',
	'headwaiter',
	'cajaput',
	'collegiate',
	'interrogators',
	'regenerator',
	'topworking',
	'shedded',
	'endothermic',
	'boasts',
	'pentarchs',
	'hyaloids',
	'phthises',
	'diagonalizing',
	'inchworm',
	'fourgon',
	'birdie',
	'outbuilds',
	'chippered',
	'uproused',
	'constructivisms',
	'imbibing',
	'quizzically',
	'endeavor',
	'rexine',
	'dieing',
	'vrow',
	'muktuk',
	'recycled',
	'coastguardsmen',
	'definitizing',
	'customised',
	'pidginizes',
	'prioresses',
	'fused',
	'coapts',
	'emphysemas',
	'archivolt',
	'desalted',
	'ionosondes',
	'pinups',
	'undisciplined',
	'marshalled',
	'brokered',
	'inwind',
	'reminisce',
	'guardrails',
	'chancellory',
	'begun',
	'ported',
	'jarovizes',
	'myxocyte',
	'steeks',
	'panicums',
	'granduncle',
	'overfished',
	'reverses',
	'jazz',
	'outgrowths',
	'yellowhammers',
	'workload',
	'spadeful',
	'semimoist',
	'mediaeval',
	'ombers',
	'disenchantingly',
	'orography',
	'roisterous',
	'etymology',
	'nystagmuses',
	'footraces',
	'twitter',
	'surveillants',
	'toluidide',
	'bistro',
	'pectination',
	'silliest',
	'salmonellae',
	'amateurishness',
	'qophs',
	'ironside',
	'chemotaxonomist',
	'playmaking',
	'porism',
	'squabbier',
	'spumones',
	'coadjutrices',
	'heats',
	'mischoosing',
	'exapted',
	'foamlike',
	'orating',
	'pustulant',
	'euphonic',
	'faradism',
	'comparator',
	'noncardiac',
	'fleeces',
	'joual',
	'maills',
	'diagnoses',
	'acacias',
	'labara',
	'blinis',
	'semiological',
	'prebendaries',
	'gladioluses',
	'woundedly',
	'bingo',
	'isoalloxazines',
	'applaudably',
	'antifilibuster',
	'incalescences',
	'heroicomical',
	'acetylates',
	'uppercuts',
	'cresols',
	'multichain',
	'bodysuit',
	'accountable',
	'bathyscaphe',
	'imblazed',
	'punitory',
	'canzone',
	'charmer',
	'persistently',
	'patchouly',
	'glummest',
	'cerebra',
	'burdock',
	'clamorousnesses',
	'epithalamic',
	'langostinos',
	'verdins',
	'misspelled',
	'scouring',
	'listers',
	'catholicon',
	'increaser',
	'unhappily',
	'strumpets',
	'manometry',
	'chairperson',
	'yautias',
	'oversuds',
	'gazabos',
	'hollo',
	'mughal',
	'cantered',
	'insuperable',
	'unidiomatic',
	'birching',
	'megaplexes',
	'overstretches',
	'geekdom',
	'fusileers',
	'underdog',
	'graphitizable',
	'yowies',
	'perusing',
	'hypermnesic',
	'spinsterhood',
	'wristlets',
	'phenomenon',
	'caesurae',
	'disintegrations',
	'prorate',
	'creminis',
	'marchland',
	'chiasmi',
	'autopsied',
	'undersells',
	'filliped',
	'leant',
	'manufacturers',
	'outwatched',
	'bikes',
	'nonaffiliated',
	'mergences',
	'laser',
	'hadarim',
	'burrier',
	'meiosis',
	'underflows',
	'vaginate',
	'museologist',
	'tergiversate',
	'handwrote',
	'glycyls',
	'unscriptural',
	'incandescence',
	'yobboes',
	'daddies',
	'caseworks',
	'disked',
	'floodways',
	'coesite',
	'cuspal',
	'brouhahas',
	'tagalongs',
	'sweater',
	'untiringly',
	'morrows',
	'rewinders',
	'lochs',
	'undefaced',
	'quixote',
	'independents',
	'homemaker',
	'conscripting',
	'preworn',
	'poisoner',
	'euphenics',
	'roundsman',
	'monoxide',
	'overdramatize',
	'upcoil',
	'enthused',
	'milksop',
	'preformatted',
	'calmer',
	'phosphorylate',
	'redrew',
	'cubism',
	'unfalteringly',
	'manteaux',
	'isotonicities',
	'nonassociated',
	'gossipping',
	'merrinesses',
	'tomming',
	'discrowning',
	'focalised',
	'putouts',
	'female',
	'portapaks',
	'flaunters',
	'ungenerosities',
	'flattening',
	'benzenoid',
	'concordance',
	'silvered',
	'nongenital',
	'proofrooms',
	'syncretic',
	'rambouillets',
	'cliches',
	'premarket',
	'conspiration',
	'osculates',
	'comportments',
	'louder',
	'crackleware',
	'diagnostic',
	'strewments',
	'springy',
	'basophil',
	'perinatally',
	'fascioliases',
	'plow',
	'sunroom',
	'tyre',
	'mako',
	'gaudery',
	'swordsmanships',
	'singlesticks',
	'picolins',
	'sacrilegious',
	'gowds',
	'deprogramed',
	'photomap',
	'exploiting',
	'extortionately',
	'outpushing',
	'nitchies',
	'dialogically',
	'sinuousness',
	'clacker',
	'songwriter',
	'shahdoms',
	'flooded',
	'retextured',
	'maderized',
	'microfilmers',
	'longsomenesses',
	'victimise',
	'undocile',
	'saucepan',
	'coupe',
	'sulfids',
	'diplomas',
	'powdered',
	'minimizer',
	'wrongfully',
	'unmewing',
	'garboard',
	'spokespeople',
	'vitalisms',
	'gormands',
	'avigators',
	'embellish',
	'bowlful',
	'columbium',
	'embowing',
	'hexoses',
	'althea',
	'disenthralls',
	'cellophanes',
	'obituarist',
	'ascots',
	'goggling',
	'naturopath',
	'forgivingnesses',
	'ignition',
	'pirouetting',
	'preciosity',
	'scorified',
	'scunnering',
	'heathless',
	'accumbent',
	'copycat',
	'deportee',
	'rubberneck',
	'charrs',
	'reconvict',
	'retell',
	'impingement',
	'cloistral',
	'planispheric',
	'peasantry',
	'segregants',
	'contester',
	'privatized',
	'chirurgeons',
	'nationally',
	'noncrushable',
	'chintzy',
	'modernnesses',
	'anilines',
	'kotowers',
	'chairmanning',
	'sagiest',
	'rateably',
	'intermittences',
	'hadjes',
	'rift',
	'nonpolice',
	'horsewhips',
	'bulkheads',
	'defalcator',
	'multilingual',
	'naissance',
	'misstates',
	'rekindle',
	'repercussion',
	'podomere',
	'melanist',
	'solicit',
	'hospitalizing',
	'impenitence',
	'nitriles',
	'solemnizes',
	'incandescents',
	'nucleotide',
	'imbalmed',
	'ternate',
	'cannulae',
	'oribis',
	'toea',
	'sauteed',
	'grungier',
	'scrapie',
	'peebeens',
	'snowbanks',
	'embalmed',
	'anticipation',
	'precaval',
	'septets',
	'hulked',
	'pelages',
	'sambar',
	'parae',
	'sweltry',
	'spiteful',
	'rehabilitator',
	'ribaldry',
	'lockups',
	'tricksy',
	'shortages',
	'manioca',
	'besmooths',
	'injurers',
	'semigala',
	'dreaminess',
	'hepcats',
	'refining',
	'uploading',
	'disroots',
	'doctorships',
	'somersetted',
	'coseismals',
	'airwave',
	'underpin',
	'misdeems',
	'fatbacks',
	'atomists',
	'scuffled',
	'cartage',
	'faithlessness',
	'geotectonically',
	'cinnamic',
	'orchestrate',
	'cannons',
	'dolomitic',
	'unliked',
	'cordoba',
	'izar',
	'crux',
	'touristic',
	'herbologies',
	'federators',
	'antimonides',
	'crabbedly',
	'resegregations',
	'harmlessness',
	'sovietizations',
	'anticaries',
	'unceasing',
	'pustulous',
	'bemurmurs',
	'plausive',
	'certainest',
	'palimonies',
	'xenophobically',
	'manhunts',
	'sodbuster',
	'agrarians',
	'document',
	'mercurialness',
	'thriftlessly',
	'bonesetter',
	'illation',
	'yachtman',
	'serenatas',
	'thorns',
	'unhysterically',
	'chord',
	'bihourly',
	'nonmental',
	'huswife',
	'cooktop',
	'stades',
	'dispatchers',
	'replenishments',
	'isolators',
	'boughless',
	'axillaries',
	'opioid',
	'intenseness',
	'denazified',
	'maestosos',
	'delectations',
	'conforming',
	'overpedaling',
	'preadaptive',
	'culvert',
	'folia',
	'deadlines',
	'implementations',
	'endamebic',
	'verifier',
	'gratified',
	'tribunal',
	'shipshape',
	'corrasive',
	'navel',
	'relicts',
	'grapplers',
	'exciton',
	'bloodstained',
	'deductible',
	'overtone',
	'charismatics',
	'kairomone',
	'antipodal',
	'spherulite',
	'needlewomen',
	'between',
	'broadly',
	'fluidics',
	'dinks',
	'absurdnesses',
	'shortbreads',
	'dissonance',
	'hungover',
	'extricating',
	'amorettos',
	'eligibly',
	'funicular',
	'perfunctorily',
	'trysts',
	'leukemic',
	'jangliest',
	'ultraslick',
	'sahiwal',
	'decompressing',
	'unleashed',
	'reglow',
	'vagabond',
	'deracinated',
	'horserace',
	'skiagram',
	'cramped',
	'lowercase',
	'hollowing',
	'faltboat',
	'readership',
	'humanoids',
	'astricts',
	'mercantilism',
	'scorning',
	'gossipries',
	'childbirth',
	'acclimates',
	'provoking',
	'resonant',
	'customhouses',
	'drizzlingly',
	'safeguarding',
	'distention',
	'jetsom',
	'starchiest',
	'waggoned',
	'birlers',
	'desexes',
	'cassinos',
	'cornily',
	'humanist',
	'agrestic',
	'colonialisms',
	'defencing',
	'tadpoles',
	'cufflinks',
	'reconditeness',
	'solvating',
	'paternalisms',
	'nonmotilities',
	'reconstructing',
	'windings',
	'byroad',
	'snib',
	'empaling',
	'pericarditis',
	'paranymph',
	'panini',
	'woodlands',
	'seize',
	'ransomers',
	'comedians',
	'subtopic',
	'multicell',
	'reannexations',
	'morphoses',
	'thy',
	'phenobarbitals',
	'unkend',
	'interservice',
	'comatulids',
	'calcitonin',
	'supercomputers',
	'toileting',
	'infrangibility',
	'herbaria',
	'carcels',
	'yachtsman',
	'unclassifiable',
	'exiler',
	'overtaken',
	'batching',
	'aggadah',
	'goitres',
	'whatsises',
	'outcheat',
	'uncoy',
	'fixedly',
	'bionts',
	'redistribution',
	'blaze',
	'begriming',
	'lipotropin',
	'latakia',
	'subcortex',
	'congresspersons',
	'fellowship',
	'confections',
	'suprarenal',
	'disassembled',
	'gramaries',
	'inlayer',
	'humorlessness',
	'majaguas',
	'caesarians',
	'impolitical',
	'stubbornnesses',
	'mediant',
	'characterized',
	'rejuvenescence',
	'pogromist',
	'unsuccess',
	'operas',
	'fitchews',
	'basswoods',
	'instills',
	'limpas',
	'snoopy',
	'deceptive',
	'doublenesses',
	'nighty',
	'outpitching',
	'koumises',
	'stumpers',
	'colossal',
	'staphylinid',
	'sentinel',
	'mendicity',
	'gawkiness',
	'phoneyed',
	'relativist',
	'squarishness',
	'mercaptopurines',
	'hyperpure',
	'wheys',
	'biomaterial',
	'lollies',
	'lushed',
	'favours',
	'indefinableness',
	'mortgager',
	'westbound',
	'ubiquinones',
	'disorientating',
	'misclaimed',
	'berascal',
	'brazilwoods',
	'beltlines',
	'coneflower',
	'ravioli',
	'donned',
	'snowmobiles',
	'occidentalized',
	'fibrinopeptide',
	'forayed',
	'gabbroic',
	'halt',
	'antisuicide',
	'danegelds',
	'crimeless',
	'covetousness',
	'misaimed',
	'joyfulnesses',
	'protostome',
	'sociability',
	'pulp',
	'hesitating',
	'unreliabilities',
	'bloom',
	'strikeover',
	'photobiologic',
	'hornswoggled',
	'rightsized',
	'dassie',
	'subeditor',
	'repressers',
	'resting',
	'frontispiece',
	'blueprint',
	'implant',
	'skeletonizing',
	'dishwasher',
	'potting',
	'invigilation',
	'berberises',
	'beebee',
	'abrogable',
	'intaglio',
	'advertizement',
	'genteelnesses',
	'connectedness',
	'bathless',
	'protei',
	'cravened',
	'numbered',
	'concenter',
	'equidistantly',
	'liltingness',
	'paratroopers',
	'underplayed',
	'hydrospace',
	'silks',
	'isobare',
	'inexactitude',
	'typhoons',
	'contraltos',
	'uncoalesces',
	'updates',
	'claymore',
	'reaccuses',
	'selenological',
	'bandstands',
	'begrudge',
	'southern',
	'justifiably',
	'debilitates',
	'corselettes',
	'flavorful',
	'precipitancies',
	'gallinule',
	'anachronistic',
	'macrogamete',
	'hopingly',
	'reconstituted',
	'understatement',
	'swilling',
	'pone',
	'sportiness',
	'scalp',
	'prebinding',
	'sickeningly',
	'deviative',
	'autecologies',
	'shaddock',
	'coyer',
	'blockhouse',
	'demagogs',
	'doge',
	'extractable',
	'bawdries',
	'waff',
	'mystic',
	'duellers',
	'immane',
	'canid',
	'orad',
	'disinclines',
	'switchgrasses',
	'zabaione',
	'nonconformisms',
	'brio',
	'nonconcurrences',
	'turn',
	'cabernets',
	'buttonball',
	'whorl',
	'rates',
	'picometer',
	'compunctious',
	'musics',
	'solitarinesses',
	'degenerated',
	'beladies',
	'pesades',
	'whitter',
	'aerates',
	'grin',
	'canoness',
	'chemosurgeries',
	'brickyard',
	'stringiest',
	'broadbean',
	'picaresque',
	'cullions',
	'vaccinated',
	'biometrical',
	'bantling',
	'reknots',
	'memorialists',
	'uplift',
	'oryx',
	'scoopsful',
	'nitrify',
	'perennates',
	'distorting',
	'shewbreads',
	'brained',
	'reinking',
	'holograms',
	'serrying',
	'bullfrogs',
	'phosphatidyl',
	'calculating',
	'perceivers',
	'expositing',
	'orrises',
	'discardable',
	'buteos',
	'forestation',
	'dita',
	'multiplexor',
	'stairway',
	'challenges',
	'pozzolana',
	'masterly',
	'prenominated',
	'elucubrate',
	'forewings',
	'sensuous',
	'bastinaded',
	'toff',
	'wainscotings',
	'coadmires',
	'deictic',
	'growingly',
	'lifeblood',
	'misdriving',
	'decelerated',
	'aliyot',
	'palter',
	'billboarded',
	'mercies',
	'pinnae',
	'interproximal',
	'jiao',
	'subscales',
	'bargaining',
	'doating',
	'vum',
	'fortepianos',
	'orderly',
	'absurdisms',
	'doppelganger',
	'cadaverously',
	'panfries',
	'volumetrically',
	'cryopreserved',
	'torching',
	'cyanoacrylate',
	'brutalities',
	'discomfited',
	'disremembering',
	'xeroses',
	'sewerlike',
	'entasis',
	'terraform',
	'recuperation',
	'enumerating',
	'villeins',
	'wining',
	'merk',
	'folksinesses',
	'treacliest',
	'cowlstaves',
	'quinolines',
	'penstemon',
	'diminishes',
	'feck',
	'toluidine',
	'eurybaths',
	'drawdown',
	'pieces',
	'superhighway',
	'boychicks',
	'synthesists',
	'whiles',
	'karts',
	'purses',
	'installer',
	'arroyo',
	'pocketknives',
	'graduations',
	'freebooted',
	'unacademically',
	'forcer',
	'gristlier',
	'niftiness',
	'kerygmas',
	'pneumothorax',
	'methodized',
	'behoves',
	'zoogametes',
	'internalize',
	'couped',
	'speedsters',
	'lacs',
	'mislit',
	'autolysate',
	'overasserting',
	'appreciated',
	'tellurites',
	'inutilities',
	'cattleya',
	'teaware',
	'manpowers',
	'dissaves',
	'locofoco',
	'impressed',
	'carryback',
	'swang',
	'trikes',
	'doubtlessness',
	'glumness',
	'interest',
	'gucks',
	'chthonic',
	'urinometers',
	'proventriculi',
	'conjunctivitis',
	'containing',
	'insectaries',
	'charbroil',
	'superport',
	'haggardly',
	'reassigning',
	'caducei',
	'lockbox',
	'woodsy',
	'larcenies',
	'vinedresser',
	'initializes',
	'nephritises',
	'uncharismatic',
	'enmeshments',
	'melancholiacs',
	'concretism',
	'phylloxera',
	'attendees',
	'named',
	'pinniped',
	'lupines',
	'comforting',
	'citizenesses',
	'nervily',
	'lamentation',
	'archdeacons',
	'hapkido',
	'technologizes',
	'samek',
	'moan',
	'cephalically',
	'umbles',
	'pastelist',
	'stabilizers',
	'reavails',
	'shitless',
	'amalgamators',
	'streakinesses',
	'tessellate',
	'unisex',
	'recontacting',
	'broomsticks',
	'plaistered',
	'store',
	'bioavailable',
	'staunches',
	'transvaluate',
	'five',
	'disprovable',
	'fluorid',
	'mawed',
	'kiaugh',
	'unsensitized',
	'passageway',
	'ambulette',
	'stitcheries',
	'civvies',
	'agranulocytoses',
	'loofas',
	'priorate',
	'garibaldis',
	'irresolute',
	'respond',
	'serology',
	'leisure',
	'pheromones',
	'eavesdropper',
	'tepal',
	'misplayed',
	'ropes',
	'angulating',
	'decimalize',
	'betrayer',
	'scotias',
	'biliousness',
	'scarring',
	'communises',
	'diarrheas',
	'gaskings',
	'donnee',
	'zikurat',
	'retrodicted',
	'squirm',
	'sardining',
	'ausformed',
	'septums',
	'valiancies',
];

// fetchwords().then((data) => {
// 	const words = data;
// 	return words;
// });

let selectedWord = words[Math.floor(Math.random() * words.length)];

const correctLetters = [];
const wrongLetters = [];

// Show Hidden Word
function displayWord() {
	wordEl.innerHTML = `
    ${selectedWord
			.split('')
			.map(
				(letter) => `
        <span class="letter">
        ${correctLetters.includes(letter) ? letter : ''}
        </span>
        `,
			)
			.join('')}
    `;
	const innerWord = wordEl.innerText.replace(/\n/g, '');
	if (innerWord === selectedWord) {
		finalMessage.innerText = 'Congratulations! You Win!';
		popup.style.display = 'flex';
	}
}

// Update wrong letters
function updateWrongLettersEl() {
	// Display wrong letters
	wrongLettersEl.innerHTML = `
        ${wrongLetters.length > 0 ? '<p>Wrong</p>' : ''}
    ${wrongLetters.map((letter) => `<span>${letter}</span>`)}
    `;

	figureParts.forEach((part, index) => {
		const errors = wrongLetters.length;

		if (index < errors) {
			part.style.display = 'block';
		} else {
			part.style.display = 'none';
		}
	});
	// Check if lost
	if (wrongLetters.length === figureParts.length) {
		finalMessage.innerText = 'You lost!';
		popup.style.display = 'flex';
	}
}

// Show Notification
function showNotification() {
	notification.classList.add('show');

	setTimeout(() => {
		notification.classList.remove('show');
	}, 2000);
}

// Keydown Letter press
window.addEventListener('keydown', (e) => {
	if (e.keyCode >= 65 && e.keyCode <= 90) {
		const letter = e.key;

		if (selectedWord.includes(letter)) {
			if (!correctLetters.includes(letter)) {
				correctLetters.push(letter);

				displayWord();
			} else {
				showNotification();
			}
		} else {
			if (!wrongLetters.includes(letter)) {
				wrongLetters.push(letter);
				updateWrongLettersEl();
			} else {
				showNotification();
			}
		}
	}
});

// Restart game and play again
playAgainBtn.addEventListener('click', () => {
	// Empty Arrays
	correctLetters.splice(0);
	wrongLetters.splice(0);

	selectedWord = words[Math.floor(Math.random() * words.length)];
	displayWord();

	updateWrongLettersEl();

	popup.style.display = 'none';
});

displayWord();
console.log(selectedWord);
